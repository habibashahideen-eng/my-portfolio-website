<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://cdn.tailwindcss.com"></script>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Advanced Clock App</title>
<style>
  /* Reset and basic styling */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #fafafa;
    color: #222;
    margin: 0;
    padding: 20px;
    transition: background-color 0.3s, color 0.3s;
  }
  h2 {
    margin-top: 1rem;
    margin-bottom: 0.5rem;
  }
  button {
    cursor: pointer;
    border: none;
    padding: 8px 12px;
    margin: 4px 2px;
    border-radius: 4px;
    background: #007bff;
    color: white;
    transition: background-color 0.3s;
  }
  button:disabled {
    background: #bbb;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background: #7baadd;
    border-radius: 5%;
    padding-left: 3px;
    padding-right: 3px;

  }
  input[type="number"] {
    width: 60px;
    padding: 6px;
    font-size: 1rem;
    margin-left: 8px;
  }
  label {
    font-weight: 600;
  }
  .container {
    max-width: 1000px;
    margin: auto;
  }
  .section {
    background: white;
    border-radius: 10px;
    padding: 15px 20px;
    margin-bottom: 20px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  }

  /* THEMES */
  body.theme-default {
    background: #fafafa;
    color: #222;
  }
  body.theme-retro {
    background: #fdf6e3;
    color: #657b83;
  }
  body.theme-futuristic {
    background: #0f2027;
    color: #00ffe7;
  }
  /* Dark Mode */
  body.dark-mode {
    background: #222;
    color: #eee;
  }

  /* THEME BUTTONS */
  #theme-buttons {
    margin-bottom: 20px;
    text-align: center;
  }
  #theme-buttons button {
    margin: 0 5px;
  }

  /* ANALOG CLOCK */
  #analog-clock {
    position: relative;
    margin: 20px auto;
    width: 220px;
    height: 220px;
    border: 12px solid #007bff;
    border-radius: 50%;
    background: white;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
  }

  body.theme-retro #analog-clock {
    border-color: #d2691e;
    background: #fff4e1;
  }
  body.theme-futuristic #analog-clock {
    border-color: #00ffe7;
    background: #0f2027;
    box-shadow: 0 0 15px #00ffe7;
  }

.hand {
  position: absolute;
  top: 50%;
  left: 50%;
  transform-origin: 0% 50%;
  border-radius: 2px;
  transition: transform 0.05s cubic-bezier(0.4, 2.3, 0.3, 1);
}
#hour-hand {
  position: absolute;
  width: 35%;
  height: 6px;
  background: #004080;
  top: 50%;
  left: 50%;
  transform-origin: 0% 50%;
  border-radius: 2px;
  transition: transform 0.1s ease-in-out;
}

#minute-hand {
  transform-origin: 0% 50%;
  position: absolute;
  top: 50% ;
  width: 45%;
  left: 50%;
  height: 4px;
  background: #007bff;
}

#second-hand {
  position: absolute;
  transform-origin: 0% 50%;
  top: 50% ;
  left: 50%;
  width: 50%;
  height: 2px;
  background: #ff0000;
}

  body.theme-retro #hour-hand {
    background: #a0522d;
  }
  body.theme-retro #minute-hand {
    background: #d2691e;
  }
  body.theme-retro #second-hand {
    background: #b22222;
  }
  body.theme-futuristic #hour-hand {
    background: #00bfae;
  }
  body.theme-futuristic #minute-hand {
    background: #00ffe7;
  }
  body.theme-futuristic #second-hand {
    background: #ff0055;
  }
  #center-dot {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 14px;
    height: 14px;
    margin-left: -7px;
    margin-top: -7px;
    background: #007bff;
    border-radius: 50%;
    box-shadow: 0 0 6px rgba(0,0,0,0.3);
  }
  body.theme-retro #center-dot {
    background: #d2691e;
  }
  body.theme-futuristic #center-dot {
    background: #00ffe7;
    box-shadow: 0 0 10px #00ffe7;
  }

  /* DIGITAL CLOCK */
  #digital-clock {
    font-size: 3rem;
    text-align: center;
    font-weight: 700;
    letter-spacing: 3px;
    margin-bottom: 6px;
  }
  #date-display {
    text-align: center;
    font-size: 1.25rem;
    font-weight: 500;
    margin-bottom: 15px;
  }

  /* STOPWATCH */
  #stopwatch-display {
    font-size: 2.5rem;
    font-weight: 600;
    text-align: center;
    margin-bottom: 10px;
  }
  #laps {
    max-height: 120px;
    overflow-y: auto;
    padding: 5px 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: #f9f9f9;
    font-family: monospace;
    font-size: 1rem;
  }
  .lap {
    padding: 2px 0;
    border-bottom: 1px solid #ddd;
  }
  .lap:last-child {
    border-bottom: none;
  }

  /* COUNTDOWN TIMER */
  #countdown-display {
    font-size: 2.5rem;
    font-weight: 600;
    text-align: center;
    margin-bottom: 10px;
  }
  #countdown-controls {
    text-align: center;
    margin-bottom: 10px;
  }
  #progress-container {
    width: 120px;
    height: 120px;
    margin: 0 auto;
    position: relative;
  }
  svg {
    transform: rotate(-90deg);
    width: 120px;
    height: 120px;
  }
  circle {
    fill: none;
    stroke: #ddd;
    stroke-width: 10;
  }
  #progress-circle {
    stroke: #007bff;
    stroke-linecap: round;
    transition: stroke-dashoffset 0.25s linear;
  }
  body.theme-retro #progress-circle {
    stroke: #d2691e;
  }
  body.theme-futuristic #progress-circle {
    stroke: #00ffe7;
  }


  #alarm-section {
  margin-bottom: 20px;
}
  /* WORLD CLOCKS */
  #world-clocks {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    gap: 15px;
  }
  .city-clock {
    background: #e7f0ff;
    border-radius: 8px;
    padding: 10px;
    text-align: center;
    box-shadow: inset 0 0 4px #a9c1ff;
  }
  body.theme-retro .city-clock {
    background: #fff0db;
    box-shadow: inset 0 0 4px #d69e60;
  }
  body.theme-futuristic .city-clock {
    background: #002f34;
    box-shadow: inset 0 0 8px #00ffe7;
    color: #00ffe7;
  }
  .city-name {
    font-weight: 700;
    margin-bottom: 6px;
  }
  .city-time {
    font-family: monospace;
    font-size: 1.5rem;
  }

  /* TOGGLES */
  #toggles {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
  }
  label.toggle-label {
    cursor: pointer;
    user-select: none;
  }
  input[type="checkbox"] {
    margin-left: 8px;
    transform: scale(1.2);
    vertical-align: middle;
  }

  /* Responsive */
  @media (max-width: 600px) {
    #analog-clock {
      width: 160px;
      height: 160px;
      border-width: 8px;
    }
    #digital-clock {
      font-size: 2rem;
    }
    #stopwatch-display, #countdown-display {
      font-size: 1.75rem;
    }
  }

.section h2 {
  font-size: 1.75rem;
  font-weight: 650;
  color: #000;
}



</style>
</head>
<body class="theme-default">
<div class="container">

  <div id="theme-buttons" class="section">
    <button id="theme-default-btn" title="Default Theme">Default</button>
    <button id="theme-retro-btn" title="Retro Theme">Retro</button>
    <button id="theme-futuristic-btn" title="Futuristic Theme">Futuristic</button>
    <label class="toggle-label" title="Toggle Dark Mode">
      Dark Mode
      <input type="checkbox" id="theme-toggle" />
    </label>
   
  </div>

  <section class="section" id="clock-section">
  <h2>Analog Clock</h2>
  <div id="analog-clock">
    <div id="hour-hand" class="hand"></div>
    <div id="minute-hand" class="hand"></div>
    <div id="second-hand" class="hand"></div>
    <div id="center-dot"></div>
  </div>

    <h2>Digital Clock</h2>
    <div id="digital-clock">00:00:00</div>
    <div id="date-display">Loading date...</div>
  </section>

  <section class="section" id="stopwatch-section">
    <h2>Stopwatch</h2>
    <div id="stopwatch-display">00:00.00</div>
    <div style="text-align:center;">
      <button id="stopwatch-start">Start</button>
      <button id="stopwatch-stop" disabled>Stop</button>
      <button id="stopwatch-reset" disabled>Reset</button>
      <button id="stopwatch-lap" disabled>Lap</button>
    </div>
    <div id="laps"></div>
  </section>

  <section class="section" id="countdown-section">
    <h2>Countdown Timer</h2>
    <div id="countdown-display">00:00</div>
    <div id="countdown-controls">
      <label for="countdown-input">Seconds (1â€“3600):</label>
      <input id="countdown-input" type="number" min="1" max="3600" placeholder="60" />
      <button id="countdown-start">Start</button>
      <button id="countdown-stop" disabled>Stop</button>
      <button id="countdown-reset" disabled>Reset</button>
    </div>
    <div id="progress-container">
      <svg>
        <circle cx="60" cy="60" r="54" />
        <circle id="progress-circle" cx="60" cy="60" r="54" stroke-dashoffset="339.292" />
      </svg>
    </div>
  </section>

  <section class="section" id="world-clock-section">
    <h2>World Clocks</h2>
    <div id="world-clocks">
      <div class="city-clock">
        <div class="city-name">Karachi (UTC+5)</div>
        <div class="city-time" id="karachi-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">Lahore (UTC+5)</div>
        <div class="city-time" id="lahore-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">Islamabad (UTC+5)</div>
        <div class="city-time" id="islamabad-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">Peshawar (UTC+5)</div>
        <div class="city-time" id="peshawar-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">New York (UTC-4)</div>
        <div class="city-time" id="newyork-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">London (UTC+1)</div>
        <div class="city-time" id="london-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">Tokyo (UTC+9)</div>
        <div class="city-time" id="tokyo-clock">00:00:00</div>
      </div>
      <div class="city-clock">
        <div class="city-name">Sydney (UTC+10)</div>
        <div class="city-time" id="sydney-clock">00:00:00</div>
      </div>
    </div>
  </section>
</div>

<!-- Sounds -->
<audio id="tick-sound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" preload="auto"></audio>
<audio id="alarm-sound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>

<script>
  // JavaScript code from previous completion, fully integrated and adjusted for this HTML

  // Digital Clock Update
function updateDigitalClock() {
  const now = new Date();
  const hh = String(now.getHours()).padStart(2,'0');
  const mm = String(now.getMinutes()).padStart(2,'0');
  const ss = String(now.getSeconds()).padStart(2,'0');

  digitalClock.textContent = `${hh}:${mm}:${ss}`;

  const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
  dateDisplay.textContent = now.toLocaleDateString(undefined, options);
}

  // Stopwatch Elements
  const stopwatchDisplay = document.getElementById('stopwatch-display');
  const stopwatchStartBtn = document.getElementById('stopwatch-start');
  const stopwatchStopBtn = document.getElementById('stopwatch-stop');
  const stopwatchResetBtn = document.getElementById('stopwatch-reset');
  const stopwatchLapBtn = document.getElementById('stopwatch-lap');
  const lapsContainer = document.getElementById('laps');

  // Countdown Elements
  const countdownDisplay = document.getElementById('countdown-display');
  const countdownInput = document.getElementById('countdown-input');
  const countdownStartBtn = document.getElementById('countdown-start');
  const countdownStopBtn = document.getElementById('countdown-stop');
  const countdownResetBtn = document.getElementById('countdown-reset');
  const progressCircle = document.getElementById('progress-circle');

  // Theme & Sound toggles
  const themeDefaultBtn = document.getElementById('theme-default-btn');
  const themeRetroBtn = document.getElementById('theme-retro-btn');
  const themeFuturisticBtn = document.getElementById('theme-futuristic-btn');
  const themeToggle = document.getElementById('theme-toggle');
  const alarmtoggle = document.getElementById('alarm-toggle');

  // Sounds
  const tickSound = document.getElementById('tick-sound');
  const alarmsound = document.getElementById('alarm-sound');
// Analog CLOCK //
const hourHand = document.getElementById('hour-hand');
const minuteHand = document.getElementById('minute-hand');
const secondHand = document.getElementById('second-hand');

function updateAnalogClock() {
  const now = new Date(); // already local time

  const seconds = now.getSeconds();
  const minutes = now.getMinutes();
  const hours = now.getHours() % 12;

 const secondDeg = seconds * 6 - 90;  // Subtract 90 deg to align 12 oâ€™clock up
  const minuteDeg = (minutes + seconds / 60) * 6 - 90;
  const hourDeg = (hours + minutes / 60) * 30 - 90;

  hourHand.style.transform = `rotate(${hourDeg}deg)`;
  minuteHand.style.transform = `rotate(${minuteDeg}deg)`;
  secondHand.style.transform = `rotate(${secondDeg}deg)`;

  console.log(`Hour: ${hours}, Minute: ${minutes}, Second: ${seconds}, HourDeg: ${hourDeg}`);
}

setInterval(updateAnalogClock, 1000);
updateAnalogClock();


 /* Digital Clock*/

 const digitalClock = document.getElementById('digital-clock');
  const dateDisplay = document.getElementById('date-display');

  function updateDigitalClock() {
    const now = new Date();

    // Format time as HH:MM:SS with leading zeros
    const hh = String(now.getHours()).padStart(2, '0');
    const mm = String(now.getMinutes()).padStart(2, '0');
    const ss = String(now.getSeconds()).padStart(2, '0');

    digitalClock.textContent = `${hh}:${mm}:${ss}`;

    // Format date as Weekday, Month Day, Year (example: Sunday, May 25, 2025)
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    dateDisplay.textContent = now.toLocaleDateString(undefined, options);
  }

  // Update the clock immediately and then every second
  updateDigitalClock();
  setInterval(updateDigitalClock, 1000);

  /* --- Stopwatch --- */
  let stopwatchInterval = null;
  let stopwatchStartTime = null;
  let stopwatchElapsed = 0; // ms
  let stopwatchRunning = false;
  let lapCount = 0;

  function formatStopwatchTime(ms) {
    const totalSeconds = Math.floor(ms / 1000);
    const minutes = Math.floor(totalSeconds / 60);
    const seconds = totalSeconds % 60;
    const hundredths = Math.floor((ms % 1000) / 10);
    return `${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}.${String(hundredths).padStart(2,'0')}`;
  }

  function stopwatchTick() {
    const now = Date.now();
    stopwatchElapsed = now - stopwatchStartTime;
    stopwatchDisplay.textContent = formatStopwatchTime(stopwatchElapsed);
  }

  stopwatchStartBtn.onclick = () => {
    if (!stopwatchRunning) {
      stopwatchStartTime = Date.now() - stopwatchElapsed;
      stopwatchInterval = setInterval(stopwatchTick, 25);
      stopwatchRunning = true;

      stopwatchStartBtn.disabled = true;
      stopwatchStopBtn.disabled = false;
      stopwatchResetBtn.disabled = false;
      stopwatchLapBtn.disabled = false;
    }
  };

  stopwatchStopBtn.onclick = () => {
    if (stopwatchRunning) {
      clearInterval(stopwatchInterval);
      stopwatchRunning = false;

      stopwatchStartBtn.disabled = false;
      stopwatchStopBtn.disabled = true;
      stopwatchResetBtn.disabled = false;
      stopwatchLapBtn.disabled = true;
    }
  };

  stopwatchResetBtn.onclick = () => {
    clearInterval(stopwatchInterval);
    stopwatchElapsed = 0;
    stopwatchRunning = false;
    stopwatchDisplay.textContent = "00:00.00";
    lapsContainer.innerHTML = "";
    lapCount = 0;

    stopwatchStartBtn.disabled = false;
    stopwatchStopBtn.disabled = true;
    stopwatchResetBtn.disabled = true;
    stopwatchLapBtn.disabled = true;
  };

  stopwatchLapBtn.onclick = () => {
    if (stopwatchRunning) {
      lapCount++;
      const lapTime = formatStopwatchTime(stopwatchElapsed);
      const lapElem = document.createElement('div');
      lapElem.classList.add('lap');
      lapElem.textContent = `Lap ${lapCount}: ${lapTime}`;
      lapsContainer.prepend(lapElem);
    }
  };

  /* --- Countdown Timer --- */
  let countdownInterval = null;
  let countdownRemaining = 0; // seconds
  let countdownRunning = false;
  let countdownTotal = 0;

  // Circle circumference = 2Ï€r = 2*3.14159*54 â‰ˆ 339.292
  const circleCircumference = 339.292;

  function updateCountdownDisplay() {
    const minutes = Math.floor(countdownRemaining / 60);
    const seconds = countdownRemaining % 60;
    countdownDisplay.textContent = `${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;

    const offset = circleCircumference * (1 - countdownRemaining / countdownTotal);
    progressCircle.style.strokeDashoffset = offset;
  }

  function countdownTick() {
    if (countdownRemaining > 0) {
      countdownRemaining--;
      updateCountdownDisplay();
    } else {
      clearInterval(countdownInterval);
      countdownRunning = false;
      countdownStartBtn.disabled = false;
      countdownStopBtn.disabled = true;
      countdownResetBtn.disabled = false;
      if (alarmToggle.checked) {
        alarmSound.play().catch(()=>{});
      }
      alert("Countdown finished!");
    }
  }

  countdownStartBtn.onclick = () => {
    const seconds = Number(countdownInput.value);
    if (countdownRunning) return;

    if (seconds < 1 || seconds > 3600 || isNaN(seconds)) {
      alert("Please enter seconds between 1 and 3600.");
      return;
    }

    countdownTotal = seconds;
    countdownRemaining = seconds;
    updateCountdownDisplay();

    countdownInterval = setInterval(countdownTick, 1000);
    countdownRunning = true;

    countdownStartBtn.disabled = true;
    countdownStopBtn.disabled = false;
    countdownResetBtn.disabled = true;
  };

  countdownStopBtn.onclick = () => {
    if (countdownRunning) {
      clearInterval(countdownInterval);
      countdownRunning = false;

      countdownStartBtn.disabled = false;
      countdownStopBtn.disabled = true;
      countdownResetBtn.disabled = false;
    }
  };

  countdownResetBtn.onclick = () => {
    clearInterval(countdownInterval);
    countdownRunning = false;
    countdownRemaining = 0;
    countdownTotal = 0;
    countdownDisplay.textContent = "00:00";
    progressCircle.style.strokeDashoffset = circleCircumference;
    countdownStartBtn.disabled = false;
    countdownStopBtn.disabled = true;
    countdownResetBtn.disabled = true;
    countdownInput.value = "";
  };

  // Initialize countdown progress circle
  progressCircle.style.strokeDasharray = circleCircumference;
  progressCircle.style.strokeDashoffset = circleCircumference;

  // --- World Clocks ---
const utcOffsets = {
  "karachi-clock": 5,
  "lahore-clock": 5,
  "islamabad-clock": 5,
  "peshawar-clock": 5,
  "newyork-clock": -4,
  "london-clock": 1,
  "tokyo-clock": 9,
  "sydney-clock": 10
};

function updateWorldClock(id, offset) {
  const el = document.getElementById(id);
  if (!el) return;

  const nowUTC = new Date();
  const utcMillis = nowUTC.getTime() + nowUTC.getTimezoneOffset() * 60000;
  const cityMillis = utcMillis + offset * 3600 * 1000;
  const cityTime = new Date(cityMillis);

  const hh = String(cityTime.getHours()).padStart(2, '0');
  const mm = String(cityTime.getMinutes()).padStart(2, '0');
  const ss = String(cityTime.getSeconds()).padStart(2, '0');

  el.textContent = `${hh}:${mm}:${ss}`;
}

function updateAllWorldClocks() {
  for (const id in utcOffsets) {
    updateWorldClock(id, utcOffsets[id]);
  }
}

// Start clock updates
updateAllWorldClocks();
setInterval(updateAllWorldClocks, 1000);


  /* --- Theme & Sound Toggle --- */
function setTheme(theme) {
  const body = document.body;

  // Remove all theme classes first
  body.classList.remove('theme-default', 'theme-retro', 'theme-futuristic', 'dark-mode');

  // Add the selected theme class
  if (theme === 'dark') {
    body.classList.add('dark-mode');
  } else {
    body.classList.add(`theme-${theme}`);
  }
}

themeDefaultBtn.onclick = () => setTheme('default');
themeRetroBtn.onclick = () => setTheme('retro');
themeFuturisticBtn.onclick = () => setTheme('futuristic');

themeToggle.onchange = (e) => {
  if (e.target.checked) setTheme('dark');
  else setTheme('default');
};

alarmToggle.onchange = () => {
  if (!alarmToggle.checked) {
    alarmSound.pause();
    alarmSound.currentTime = 0;
  }
};
  /* --- Initialization --- */
  function initialize() {
    stopwatchResetBtn.disabled = true;
    stopwatchStopBtn.disabled = true;
    stopwatchLapBtn.disabled = true;
    countdownStopBtn.disabled = true;
    countdownResetBtn.disabled = true;

    setInterval(() => {
      updateAnalogClock();
      updateDigitalClock();
      updateAllWorldClocks();
    }, 1000);

    updateAnalogClock();
    updateDigitalClock();
    updateAllWorldClocks();
  }

  initialize();
</script>

<div class="flex justify-center mt-8 mb-4">
  <button
    onclick="location.href='projects.html'"
    class="px-6 py-3 bg-purple-900 text-white font-semibold rounded-md shadow-md hover:bg-purple-700 hover:shadow-lg transition transform hover:scale-105"
    style="min-width: 150px;"
  >
    â¬… Back to Projects
  </button>
</div>


</body>
</html>