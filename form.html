<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Validation Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-800 to-gray-900 text-white flex items-center justify-center relative overflow-hidden pt-10">
  <div id="particles-js" class="absolute inset-0 z-0"></div>

  <div class="w-full max-w-[300px] bg-white text-gray-800 rounded-xl shadow-xl p-6 sm:p-7 z-10">
    <h2 class="text-2xl font-bold text-center text-blue-700 mb-6">Sign Up</h2>
    <form id="myForm" class="space-y-5">
      <div class="relative">
        <i class="fas fa-user absolute top-1/2 left-3 transform -translate-y-1/2 text-gray-400"></i>
        <input type="text" name="name" placeholder="Full Name" required class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600" />
      </div>
      <div class="relative">
        <i class="fas fa-envelope absolute top-1/2 left-3 transform -translate-y-1/2 text-gray-400"></i>
        <input type="email" name="email" placeholder="Email Address" required class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600" />
      </div>
      <div class="relative">
        <i class="fas fa-lock absolute top-1/2 left-3 transform -translate-y-1/2 text-gray-400"></i>
        <input id="password" type="password" name="password" placeholder="Password" required class="w-full pl-10 pr-10 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600" />
        <i class="far fa-eye absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-400 cursor-pointer" onclick="toggleVisibility('password', this)"></i>
      </div>
      <div class="relative">
        <i class="fas fa-lock absolute top-1/2 left-3 transform -translate-y-1/2 text-gray-400"></i>
        <input id="confirmPassword" type="password" name="confirmPassword" placeholder="Confirm Password" required class="w-full pl-10 pr-10 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600" />
        <i class="far fa-eye absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-400 cursor-pointer" onclick="toggleVisibility('confirmPassword', this)"></i>
      </div>
      <button id="submitBtn" type="submit" class="w-full py-2 px-4 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-lg transition duration-300 flex items-center justify-center gap-2">
        <span id="btnText">Sign Up</span>
        <svg id="btnSpinner" class="w-5 h-5 animate-spin hidden" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="white" stroke-width="4"></circle>
          <path class="opacity-75" fill="white" d="M4 12a8 8 0 018-8v8H4z"></path>
        </svg>
      </button>
    </form>
  </div>

  <div class="absolute top-14 w-full flex justify-center z-10">
    <button onclick="location.href='projects.html'" class="px-4 py-2 bg-purple-800 text-white font-semibold rounded-md shadow-md hover:bg-purple-700 transition transform hover:scale-105">
      â¬… Back to Projects
    </button>
  </div>

  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script>
    function toggleVisibility(id, icon) {
      const input = document.getElementById(id);
      if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      } else {
        input.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      }
    }

    particlesJS('particles-js', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: "#007BFF" },
        shape: { type: "circle" },
        opacity: { value: 0.5 },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: "#007BFF",
          opacity: 0.4,
          width: 1
        },
        move: { enable: true, speed: 3, out_mode: "out" }
      },
      interactivity: {
        events: {
          onhover: { enable: true, mode: "grab" },
          onclick: { enable: true, mode: "push" }
        }
      },
      retina_detect: true
    });

    const form = document.getElementById('myForm');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const btnSpinner = document.getElementById('btnSpinner');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const password = form.password.value;
      const confirmPassword = form.confirmPassword.value;

      const nameRegex = /^[A-Za-z\s]+$/;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d).{6,}$/;

      if (!nameRegex.test(name)) {
        Swal.fire({ icon: 'error', title: 'Oops...', text: 'Name must contain only alphabets.' });
        return;
      }

      if (!emailRegex.test(email)) {
        Swal.fire({ icon: 'error', title: 'Invalid Email', text: 'Please enter a valid email address.' });
        return;
      }

      if (!passwordRegex.test(password)) {
        Swal.fire({ icon: 'error', title: 'Weak Password', text: 'Password must have at least 6 characters, one letter and one number.' });
        return;
      }

      if (password !== confirmPassword) {
        Swal.fire({ icon: 'error', title: 'Mismatch', text: 'Passwords do not match!' });
        return;
      }

      submitBtn.disabled = true;
      btnText.textContent = "Submitting...";
      btnSpinner.classList.remove("hidden");

      // Backend wala try-catch hatado
Swal.fire({
  title: "Success!",
  text: "Form submitted successfully!",
  icon: "success",
  timer: 2500,
  timerProgressBar: true,
  showConfirmButton: false,
  background: "#f0f9ff",
  color: "#0f172a",
});

form.reset();

submitBtn.disabled = false;
btnText.textContent = "Sign Up";
btnSpinner.classList.add("hidden");});

  </script>
</body>
</html>
